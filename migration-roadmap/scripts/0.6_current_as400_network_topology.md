## Current AS400 Network Topology

### LPAR Configuration (IBM Power9 Scale-Out)
```
┌─────────────────────────────────────────────────────────────┐
│ Physical System: IBM Power System S924 (4-socket, 96 cores) │
├─────────────────────────────────────────────────────────────┤
│ LPAR1: PROD_PRIMARY (OS400 V7R5)                           │
│   - CPU: 48 cores dedicated                                 │
│   - Memory: 512 GB                                           │
│   - Applications: WMS001, INV002, POS003, PAYMENT007        │
│   - Network: 4×10GbE bonded (LACP)                          │
│   - Disk: 28 TB SAN (DS8900F)                               │
├─────────────────────────────────────────────────────────────┤
│ LPAR2: PROD_BATCH (OS400 V7R5)                             │
│   - CPU: 32 cores dedicated                                 │
│   - Memory: 256 GB                                           │
│   - Applications: RPT011, FORECAST017, ALLOCATION025        │
│   - Network: 2×10GbE                                        │
│   - Disk: 18 TB SAN                                          │
├─────────────────────────────────────────────────────────────┤
│ LPAR3: TEST/DEV (OS400 V7R4)                               │
│   - CPU: 16 cores shared pool                               │
│   - Memory: 128 GB                                           │
│   - Network: 2×1GbE                                         │
│   - Disk: 8 TB local                                         │
└─────────────────────────────────────────────────────────────┘
```

### External Integration Points
| Integration | Protocol | Endpoint | Bandwidth | Criticality | Migration Impact |
|-------------|----------|----------|-----------|-------------|------------------|
| Visa/MC Payment Gateway | TLS 1.2 | payment.processor.com:443 | 150 Mbps | CRITICAL | Requires IP whitelist update |
| UPS Shipping API | REST/HTTPS | api.ups.com | 80 Mbps | HIGH | Reauth OAuth credentials |
| FedEx EDI (X12 214/210) | AS2 | edi.fedex.com | 50 Mbps | HIGH | Migrate to Cloud Function |
| USPS Address Validation | SOAP/XML | secure.shippingapis.com | 20 Mbps | MEDIUM | Replace with Google Maps API |
| Bank ACH Gateway (payroll) | SFTP | ach.bank.com:22 | 10 Mbps | CRITICAL | VPN tunnel required |
| State Tax Rate Service | REST/JSON | api.taxjar.com | 5 Mbps | HIGH | API key rotation |
| Membership Card Printer Vendor | Proprietary TCP | 10.x.x.x:9100 | 2 Mbps | LOW | Cloud Run proxy |
| EDI VAN (Kleinschmidt) | AS2/HTTPS | van.kleinschmidt.com | 120 Mbps | HIGH | Migrate to Pub/Sub bridge |